"use strict"
jQuery(function($) {
    
    var Flex_Gallery = '',
    FS_Gallery = $(".product-gallery-slider"),
    WC_Gallery = $(".product-image-slider");
    
    // wait for flex init
    $(document).on('wc-product-gallery-after-init', function(e, sliderDOM, params){
        Flex_Gallery = $(sliderDOM);
    })
    
    
    $(document).on('click', '.ppom-palette-item', function(e){
        
        var offset = Number(ppom_imgchanger_vars.index_offset);
        var index = $(this).index() + 1 + offset,
        duration = 300;
        
        // console.log($(this).index(),index);
        
        /**
         * Owl slider for some themes
         * Theme: Porto
         **/
        WC_Gallery.trigger('to.owl.carousel', [index, duration, true]);
        
        /**
         * Flickity slider for some themes
         * Theme: Flatsome
         **/
        if (FS_Gallery.flickity) {
            FS_Gallery.flickity('select', index);
        }
        
        /**
         * WC Default Slider: Flex Slider
         **/
        if ($.flexslider) {
            Flex_Gallery.flexslider(index);
        }
    });
});
