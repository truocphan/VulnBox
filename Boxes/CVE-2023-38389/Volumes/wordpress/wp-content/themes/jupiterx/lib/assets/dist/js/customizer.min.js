"use strict";!function(l,p,u){var c=p.customize,i=c.JupiterX||{};c.JupiterX=i;var s=[],d=[],f=[],h=void 0,e=void 0,t=void 0,m=[],v=!1,g=window.jupiterxCustomizer.themeBase;i.ContainerSection=c.Section.extend({initialize:function(e,t){this.boxes={},this.tabs={},this.tabsButton=null,this.activeTab=null,c.Section.prototype.initialize.apply(this,arguments)},attachEvents:function(){var e=this,t=e.params,a=void 0;a=function(){return e.boxEvents(),_.isEmpty(t.tabs)?e.container.find("[data-tab]").addClass("visible"):e.tabsEvents(),e.expanded()?e.collapse():e.expand()};var i=e.container.find(".customize-section-back");function n(e){c.utils.isKeydownButNotEnterEvent(e)||(l(e.currentTarget).parents(".customize-pane-child").hasClass("control-searching")&&l(e.currentTarget).parents(".customize-pane-child").removeClass("control-searching"),e.preventDefault(),a())}i&&(i=i[0]),i.addEventListener("click",function(e){n(e)}),i.addEventListener("keydown",function(e){n(e)});var o=e.container.find(".accordion-section-title");function r(e){if(!c.utils.isKeydownButNotEnterEvent(e)){e.preventDefault();var t=l(e.currentTarget).parent().attr("aria-owns"),i=document.getElementById(t).querySelector("#jupiterx-customizer-control-search"),n=document.getElementById(t).querySelector(".customize-jupiterx-container-section");if(0===document.getElementsByClassName(".controls-loader").length){var o=document.createElement("sapn");o.id="controls-loader-wrapper",o.className="controls-loader",n.insertBefore(o,n.firstChild)}n.offsetParent.classList.add("loading-status"),setTimeout(function(){document.getElementById("controls-loader-wrapper").remove(),n.offsetParent.classList.remove("loading-status");var e=document.querySelector(".jupiterx-child-box-settings:first-child"),t=document.querySelector(".jupiterx-child-box-any:first-child");e.classList.add("open");var i=e.getElementsByClassName("toggle-icon")[0];i.classList.remove("dashicons-arrow-right"),i.classList.add("dashicons-arrow-down"),t.classList.add("open")},1e3),document.querySelector(".customize-pane-child").classList.remove("control-searching"),i.value="",i.addEventListener("search",function(e){if(0==e.target.value.toLowerCase().length)return e.target.closest(".customize-pane-child").classList.remove("control-searching"),e.target.closest(".customize-pane-child").querySelector(".jupiterx-child-box").classList.remove("open"),void e.target.closest(".customize-pane-child").querySelector(".jupiterx-child-box").classList.add("open")}),i.addEventListener("keyup",function(t){setTimeout(function(){var i=t.target.value.toLowerCase();if(0==i.length)return t.target.closest(".customize-pane-child").classList.remove("control-searching"),t.target.closest(".customize-pane-child").querySelector(".jupiterx-child-box").classList.remove("open"),void t.target.closest(".customize-pane-child").querySelector(".jupiterx-child-box").classList.add("open");if(t.target.closest(".customize-pane-child").classList.add("control-searching"),t.target.closest(".customize-pane-child").querySelector(".jupiterx-child-box").classList.remove("search-visible","open"),1<=i.length){var e=document.querySelectorAll(".customize-control-title, .jupiterx-child-box-title");l(".customize-control").removeClass("control-founded"),l(".customize-control").parents(".customize-pane-child").removeClass("parent-control-founded"),l(".customize-control").parents(".jupiterx-child-box").removeClass("search-visible"),e.forEach(function(e){if(0<=String(e.childNodes[0].nodeValue).trim().toLowerCase().indexOf(i)){if("none"===l(e).parents(".jupiterx-child-box").find(".jupiterx-child-box-content").children().css("display")||"none"===l(e).parents(".customize-controls-list").css("display")||"none"===l(e).parents(".customize-control").css("display")||"none"===l(e).parents(".jupiterx-group-controls").parents(".customize-control").css("display")||!l(e).parents(".customize-pane-child").hasClass("open"))return;l(e).addClass("control-founded"),l(e).parents(".customize-control").addClass("parent-control-founded");var t=l(e).parents(".jupiterx-child-box");t.addClass("search-visible open"),t.find(".toggle-icon").hasClass("dashicons-arrow-right")&&t.find(".toggle-icon").toggleClass("dashicons-arrow-right dashicons-arrow-down")}})}},1e3)}),a();var r=document.getElementById(t).querySelector(".jupiterx-child-box");c.trigger("jupiterx-box-toggle",r)}}o&&(o=o[0]),o.addEventListener("click",function(e){r(e)}),o.addEventListener("keydown",function(e){r(e)})},tabsEvents:function(){var i=this,n=Object.keys(i.params.tabs);i.tabsButton=i.container.find(".jupiterx-container-tabs-button").each(function(t,e){e.addEventListener("click",function(e){e.preventDefault(),i.openTab(n[t]),1===t&&i.checkDisableBox(e)})}),i.expanded.bind(function(){i.expanded()&&(i.activeTab?i.openTab(i.activeTab):i.openTab(n[0]))}),_.each(n,function(e,t){i.tabs[e]={button:i.tabsButton[t],boxes:i.container.find("[data-tab='"+e+"']")}})},checkDisableBox:function(e){var t=l(e.currentTarget).parents(".customize-pane-child").find(".customize-jupiterx-container-section");l(e.currentTarget).parents(".customize-pane-child").find("#jupiterx-customizer-control-search").val(""),l(".customize-pane-child").removeClass("control-searching"),t.children(".jupiterx-child-box").each(function(e,t){var i=0,n=0;if(l(t).removeClass("child-box-disable"),l(t).hasClass("search-visible")&&l(t).removeClass("open, search-visible"),l(t).hasClass("visible")&&(l(t).find(".jupiterx-child-box-content").children("li.customize-control").each(function(e,t){"none"===l(t).css("display")&&++i}),l(t).find(".jupiterx-child-box-content").children("li.customize-control-jupiterx-pro-box").each(function(){++n}),l(t).find(".jupiterx-child-box-content").children("li.customize-control").length==i&&l(t).addClass("child-box-disable"),l(t).find(".jupiterx-child-box-content").children("li.customize-control").length==n)){if(l(t).hasClass("child-box-probox-icon"))return;l(t).addClass("child-box-probox-icon");var o=l('<span class="child-box-probox-wrapper"><svg><use xlink:href="'+g+'customizer/img/customizer-icons.svg#lock-badge"></use></svg></span>');l(t).find(".jupiterx-child-box-header").append(o)}})},boxEvents:function(){l(".jupiterx-child-box-settings:first-child, .jupiterx-child-box-any:first-child").addClass("open"),l(".jupiterx-child-box-settings:first-child, .jupiterx-child-box-any:first-child").find(".toggle-icon").toggleClass("dashicons-arrow-down dashicons-arrow-right"),l(".jupiterx-child-box-toggle").on("click",function(e){e.preventDefault();var t=l(e.currentTarget).parents(".jupiterx-child-box");if(t.hasClass("open"))return t.removeClass("open"),void l(e.currentTarget).find(".toggle-icon").toggleClass("dashicons-arrow-down dashicons-arrow-right");l(".jupiterx-child-box:not(.child-box-disable)").removeClass("open"),l(".jupiterx-child-box:not(.child-box-disable)").hasClass("open")||(l(".jupiterx-child-box:not(.child-box-disable)").find(".toggle-icon").removeClass("dashicons-arrow-down"),l(".jupiterx-child-box:not(.child-box-disable)").find(".toggle-icon").addClass("dashicons-arrow-right")),t.toggleClass("open"),t.find(".toggle-icon").toggleClass("dashicons-arrow-down dashicons-arrow-right")})},openTab:function(e){if(!_.isUndefined(this.tabs[e])){var t=l(this.tabs[e].button),i=l(this.tabs[e].boxes);this.activeTab=e,this.hideTabs(),t.addClass("active"),i.addClass("visible")}},hideTabs:function(){this.tabsButton.filter(".active").removeClass("active"),l(".jupiterx-child-box.visible").removeClass("visible")}}),c.reflowPaneContents=_.bind(function(){v||(document.activeElement&&(e=l(document.activeElement)),c.panel.each(function(e){if("themes"!==e.id){var t=["widgets","nav_menus"];t.includes(e.id)&&(e.params.group="general_settings");var i=[];if(i[e.params.id]=e.params.title.replace(/ /g,"-").toLowerCase(),null!=e.params.title&&t.includes(e.id)&&!f.includes(e.params.title)){var n=l('<span class="accordion-section-title-icon"><svg><use xlink:href="'+g+"customizer/img/customizer-section.svg#"+i[e.params.id]+'"></use></svg></span>');f.push(e.params.title),l("#accordion-panel-"+e.params.id+" h3").append(n),l("#accordion-panel-"+e.params.id+" h3").addClass("jx-default-section-title")}if(_.isUndefined(e.params.group)&&"jupiterx_pages"===e.params.id&&(e.params.group="third_party"),_.isUndefined(e.params.group)&&"woocommerce"===e.params.id&&(e.params.group="woocommerce"),null!=e.params.group&&(e.container.find(".control-section-nav_menu").addClass("assigned-to-menu-location"),e.container.first("li").attr("data-group",e.params.group),!s.includes(e.params.group))){var o=l('<div class="jupiterx-group-wrapper"><h4>'+e.params.group.replace(/_/i," ")+'</h4><div class="jupiterx-customizer-group group-'+e.params.group+'"></div></div>');s.push(e.params.group),l("#accordion-section-themes").parent().append(o)}var r=e.sections(),a=_.pluck(r,"headContainer");m.push(e),h=e.contentContainer.is("ul")?e.contentContainer:e.contentContainer.find("ul:first"),c.utils.areElementListsEqual(a,h.children("[id]"))||(_(r).each(function(e){h.append(e.headContainer)}),v=!0)}}),c.section.each(function(t){"title_tagline"==t.id&&(t.params.group="general_settings"),"static_front_page"==t.id&&(t.params.group="general_settings"),"jupiterx_pro"==t.id&&(t.params.group="general_settings");var e=["woocommerce_store_notice","woocommerce_product_catalog","woocommerce_product_images","woocommerce_checkout"];e.includes(t.id)&&(t.params.group="woocommerce");var i=[];i=(i=i.concat(e)).concat(["title_tagline","static_front_page","custom_css","cei-section"]),null!=t.params.group&&t.container.first("li").attr("data-group",t.params.group);var n=t.controls(),o=_.pluck(n,"container");t.panel()||m.push(t),h=t.contentContainer.is("ul")?t.contentContainer:t.contentContainer.find("ul:first"),c.utils.areElementListsEqual(o,h.children("[id]"))||(_(n).each(function(e){e.params.box?l("#box-"+e.params.box+"-"+t.params.id+" .jupiterx-child-box-content").append(e.container):h.append(e.container)}),v=!0);var r=[];if(r[t.params.id]=t.params.title.replace(/ /g,"-").toLowerCase(),"cei-section"==t.id&&(r[t.params.id]=t.params.title.replace("/","-").toLowerCase()),null!=t.params.title&&i.includes(t.id)&&!d.includes(t.params.title)){var a=l('<span class="accordion-section-title-icon"><svg><use xlink:href="'+g+"customizer/img/customizer-section.svg#"+r[t.params.id]+'"></use></svg></span>');d.push(t.params.title),l("#accordion-section-"+t.params.id+" h3").append(a),l("#accordion-section-"+t.params.id+" h3").addClass("jx-default-section-title")}}),m.sort(c.utils.prioritySort),t=_.pluck(m,"headContainer"),h=l("#customize-theme-controls .customize-pane-parent"),c.utils.areElementListsEqual(t,h.children())||(_(m).each(function(e){h.append(e.headContainer)}),v=!0),c.panel.each(function(e){var t=e.active();e.active.callbacks.fireWith(e.active,[t,t])}),c.section.each(function(e){var t=e.active();e.active.callbacks.fireWith(e.active,[t,t])}),v&&e&&e.trigger("focus"),c.trigger("pane-contents-reflowed"))},c),c.bind("ready",function(){var e=l('<div class="jupiterx-customizer-search-wrapper"></div>'),t=l('<svg><use xlink:href="'+g+'customizer/img/customizer-icons.svg#search"></use></svg>'),i=l('<input type="search" id="jupiterx-customizer-search" autocomplete="off" placeholder="Search Options">');e.append(i),e.append(t),l("#accordion-section-themes").parent().append(e);var n=l("[data-group]");_.each(n,function(e){if(!s.includes(e.dataset.group)){var t=l('<div class="jupiterx-group-wrapper"><h4>'+e.dataset.group.replace(/_/i," ")+'</h4><div class="jupiterx-customizer-group group-'+e.dataset.group+'"></div></div>');s.push(e.dataset.group),l("#accordion-section-themes").parent().append(t)}}),i.on("keyup",function(e){l(".search-visible-group").removeClass("search-visible-group"),l(".search-visible-section").removeClass("search-visible-section");var o=e.currentTarget.value.toLowerCase();1<=o.length?l(".jupiterx-group-wrapper .accordion-section-title").each(function(e,t){if(l(".customize-pane-parent").addClass("searching"),!(t.childNodes.length<4)){var i=String(t.childNodes[0].nodeValue).trim().toLowerCase(),n=String(t.childNodes[2].nodeValue).trim().toLowerCase();(0<=i.indexOf(o)||0<=n.indexOf(o))&&(l(t).parent().addClass("search-visible-section"),l(t).parents(".jupiterx-group-wrapper").addClass("search-visible-group"))}}):l(".customize-pane-parent").removeClass("searching")}),i.on("search",function(e){e.currentTarget.value.length<=1&&l(".customize-pane-parent").removeClass("searching")})}),c.bind("pane-contents-reflowed",function(){if(l("[data-group]").length){var e=l("[data-group]");_.each(e,function(e){var t=e.dataset.group;l(e).appendTo(l(".group-"+t))}),l(".customize-pane-parent > li.control-section:not([data-group])").appendTo(l(".group-third_party"))}});var r={stack:{},initialize:function(){var n=this;if(!_.isEmpty(n.stack))return n.stack;jQuery.post(ajaxurl,{action:"jupiterx_get_fonts_detail",_ajax_nonce:window.jupiterxCustomizer.nonce},function(e){var t=e.data.all_fonts;_.each(t,function(e,t){var i={name:t,type:e.type||e,value:e.value||t};n.addToStack(i)})})},addToStack:function(e){(e.type||e.name)&&(_.isEmpty(this.stack[e.type])&&(this.stack[e.type]=[]),this.isFontExists(e.name)||this.stack[e.type].push(e))},isFontExists:function(e){return void 0!==_.findWhere(this.stack,{name:e})},loadWebFont:function(e){var t={},i=void 0;(e.type||e.name)&&(r.isFontExists(e.name)||("google"===e.type&&(t.google={families:[e.name+":100,200,300,400,500,600,700,800,900,100italic,200italic,300italic,400italic,500italic,600italic,700italic,800italic,900italic"]}),(i=l("#customize-preview iframe")).attr("name")&&WebFont.load(_.extend(_.clone(t),{context:frames[i.attr("name")]}))))}};(i.fonts=r).initialize();var x={"jupiterx-color":{ready:function(){var e=this.container.find(".jupiterx-color-control"),r=_.defaults(this.params,{opacity:!0});_.each(e,function(e){var t,i,n=l(e),o=n.find(".jupiterx-color-control-field");t=function(e){return e.getAlpha()<1?e.toRgbString():e.toHexString()},i=function(e){o.val(_.isNull(e)?"":t(e)).trigger("change")},n.find(".jupiterx-color-control-field").spectrum({containerClassName:"jupiterx-spectrum-container",replacerClassName:"jupiterx-spectrum-replacer",preferredFormat:"hex6",showButtons:!1,showInitial:!0,showInput:!0,showAlpha:r.opacity,allowEmpty:!0,change:i,move:i})})}},"jupiterx-image":{ready:function(){var e=this.container.find(".jupiterx-image-upload-control");_.each(e,function(e){var t=l(e),i=t.find("input[type=hidden]"),n=t.find(".jupiterx-image-upload-control-preview"),o=t.find(".jupiterx-image-upload-control-remove"),r=t.find(".jupiterx-image-upload-control-add"),a=void 0;r.on("click",function(){a||(a=p.media({title:"Insert Media",multiple:!1})).on("select",function(){var e=a.state().get("selection").first().toJSON();t.addClass("has-image"),n.prop("src",e.url),i.val(e.url),i.trigger("change")}),a.open()}),o.on("click",function(e){e.stopPropagation(),t.removeClass("has-image"),n.prop("src",""),i.val(""),i.trigger("change")})})}},"jupiterx-radio-image":{ready:function(){var e=this.container.find(".jupiterx-radio-image-control");_.each(e,function(e){l(e).find(".pro-preview").on("click",function(){event.preventDefault();var e=l(this),t=p.template("customize-jupiterx-pro-preview-lightbox");l.featherlight({otherClose:".jupiterx-pro-preview-back",variant:"jupiterx-pro-preview-lightbox",html:t({preview:e.data("preview")})})})})}},"jupiterx-multicheck":{ready:function(){var e=this.container.find(".jupiterx-multicheck-control");_.each(e,function(e){var t=l(e),n=t.find("input[type=checkbox]"),o=t.find("input[type=hidden]");t.find("input[type=checkbox]").on("change",function(){var i=[];n.filter(":checked").each(function(e,t){i[e]=l(t).val()}),o.val(i).trigger("change")})})},filterData:function(e){return _.isString(e)?e.split(","):e}},"jupiterx-choose":{ready:function(){if(this.params.multiple){var e=this.container.find(".jupiterx-choose-control");_.each(e,function(e){var t=l(e),n=t.find("input[type=checkbox]"),o=t.find("input[type=hidden]");t.find("input[type=checkbox]").on("change",function(){var i=[];n.filter(":checked").each(function(e,t){i[e]=l(t).val()}),o.val(i).trigger("change")})})}},filterData:function(e){return this.params.multiple&&_.isString(e)?e.split(","):e}},"jupiterx-input":{ready:function(){var e=this.container.find(".jupiterx-input-control");_.each(e,function(e){var t=l(e),i=t.find("input.jupiterx-input-control-input"),n=t.find("input[type=hidden]"),o=t.find(".jupiterx-input-control-input-range");i.on("keyup blur change",function(){n.trigger("change")});var r=i.attr("id"),a=o.attr("id"),s=document.getElementById(r),c=document.getElementById(a);s&&c&&(c.addEventListener("input",function(e){s.value=e.target.value}),s.addEventListener("input",function(e){c.value=e.target.value}),c.addEventListener("wheel",function(e){s.value=e.target.value}),s.addEventListener("wheel",function(e){c.value=e.target.value}))})}},"jupiterx-text":{ready:function(){var e=this.container.find(".jupiterx-input-control");_.each(e,function(e){var t=l(e),i=t.find("input.jupiterx-input-control-field"),n=t.find(".jupiterx-input-control-field-range"),o=i.attr("id"),r=n.attr("id"),a=document.getElementById(o),s=document.getElementById(r);a&&s&&(s.addEventListener("input",function(e){a.value=e.target.value}),a.addEventListener("input",function(e){s.value=e.target.value}),s.addEventListener("wheel",function(e){a.value=e.target.value}),a.addEventListener("wheel",function(e){s.value=e.target.value}))})}},"jupiterx-font":{ready:function(){var e=this.container.find(".jupiterx-font-control"),t=e.find(".jupiterx-select-field");t.select2({minimumResultsForSearch:20,placeholder:"Default",allowClear:!0,containerCssClass:"jupiterx-select2-container",dropdownCssClass:"jupiterx-select2-dropdown jupiterx-select2-dropdown-wrapped",dropdownAutoWidth:!0,dropdownParent:t.parents(".customize-control:first")}),t.on("select2:select",function(e){if("undefined"!==l(e.params.data.element)){var t=l(e.params.data.element),i=t.data("type"),n=t.val(),o={name:n,type:i,value:n};r.loadWebFont(o)}}),e.find(".jupiterx-select-field").on("select2:open",function(){l(".select2-container").addClass("is_font_family_select"),l(".select2-search__field").attr("placeholder","Search...")})}},"jupiterx-template":{ready:function(){function t(){void 0!==u.elementor&&o.getTemplates({data:{type:e},beforeSend:function(){a.empty(),r.addClass("jupiterx-loading"),a.append("<option value selected>Loading...</option>")},success:function(e){a.empty(),r.removeClass("jupiterx-loading"),r.toggleClass("jupiterx-has-value",!!l),a.append("<option value selected>"+i.placeholder+"</option>"),_.each(e,function(e,t){var i=parseInt(l)===parseInt(t)?"selected":"";a.append("<option "+i+' value="'+t+'">'+e+"</option>")}),a.trigger("change")}})}var i=this.params,e=i.templateType,n=this.container,o=u.elementor,r=n.find(".jupiterx-control"),a=n.find("select"),s=n.find(".jupiterx-edit"),c=n.find(".jupiterx-add"),l=i.value;a.on("change",function(){l=a.val(),function(){var e=!!l;r.toggleClass("jupiterx-has-value",e)}()}),window.jupiterxPremium&&(s.on("click",function(e){e.preventDefault(),void 0!==u.elementor&&a.val()&&u.elementor.openEditor({action:"edit",post:a.val(),beforeClose:function(e){var t=e.elementor.channels.editor.request("status");if(!1===t)p.customize.previewer.refresh();else if(!0===t&&!confirm("The changes you made will be lost if you leave this page."))return!1}})}),c.on("click",function(e){e.preventDefault(),void 0!==u.elementor&&u.elementor.openEditor({action:"new",type:i.templateType,beforeClose:function(e){l=e.elementor.config.document.id,a.val(e.elementor.config.document.id),t()}})})),t()}},"jupiterx-select":{ready:function(){var i=this.params,n=this.container.find("select");_.isEmpty(i.jupiterx)||_.isEmpty(i.jupiterx.select2)||(i.value.length&&jQuery.ajax({url:ajaxurl,method:"GET",data:{_ajax_nonce:window.jupiterxCustomizer.nonce,action:"jupiterx_core_customizer_get_post_title",id:i.value}}).done(function(e){var t=new Option(e.data,i.value,!0,!0);n.append(t).trigger("change")}).fail(function(){console.log("error")}),n.select2({minimumInputLength:2,placeholder:i.placeholder,allowClear:!0,containerCssClass:"jupiterx-select2-secondary",dropdownCssClass:"jupiterx-select2-secondary",width:"100%",ajax:{url:ajaxurl,delay:250,data:function(e){return{_ajax_nonce:window.jupiterxCustomizer.nonce,action:i.jupiterx.select2.action,post_type:i.jupiterx.select2.post_type,s:e.term}},processResults:function(e){return{results:e.data}},cache:!0}}))}}};i.components=x;function n(e){if(!_.isUndefined(x[e]))return x[e]}function o(e){if(!_.isUndefined(a[e]))return a[e]}var a={"jupiterx-child-popup":{ready:function(){var t=this,i=t.params,e=void 0,n=void 0;_.isEmpty(i.bindItems)||(n=function(e){if(_.isArray(e)){var r=e;t.container.find(".jupiterx-child-popup-control-item").each(function(e,t){var i=l(t),n=i.data("value"),o=!_.contains(r,n);i.toggleClass("hidden",o)})}},e=p.customize(i.bindItems).get(),p.customize(i.bindItems).bind(n),n(e)),i.sortable&&t.container.find(".jupiterx-child-popup-control-items").sortable({stop:function(){var i=[];t.container.find(".jupiterx-child-popup-control-item").each(function(e,t){i.push(l(t).data("value"))}),t.setting.set(i)}}),_.isEmpty(i.target)||t.container.find(".jupiterx-button").on("click",function(e){e.preventDefault();var t=l(this).data("id");p.customize.section(i.target,function(e){e.openChildPopup(t)})})}}};i.Control=c.Control.extend({types:{JUPITERX_SELECT:"jupiterx-select",JUPITERX_EXCEPTIONS:"jupiterx-exceptions",JUPITERX_TEMPLATE:"jupiterx-template"},defaultActiveArguments:{duration:0,completeCallback:l.noop},initialize:function(e,t){var i=this;c.Control.prototype.initialize.call(i,e,t),i.deferred.embedded.done(function(){i.responsiveEvents(),i.unitsEvents(),i.unitInputValidate(),i.stepizeInputs(),i.actuallyReady()})},embed:function(){var t=this,e=t.section();e&&p.customize.section(e,function(e){e.expanded.bind(function(){c.bind("jupiterx-box-toggle",function(){t.actuallyEmbed()})})})},actuallyEmbed:function(){"resolved"!==this.deferred.embedded.state()&&(this.renderContent(),this.deferred.embedded.resolve())},linkElements:function(){var n=this,o=void 0,r={},a=void 0;(o=n.container.find("[data-customize-setting-link], [data-setting-property-link]")).each(function(){var e,i=l(this),t=void 0;if(!i.data("customizeSettingLinked")){if(i.data("customizeSettingLinked",!0),i.is(":radio")){if(t=i.prop("name"),r[t])return;r[t]=!0,i=o.filter('[name="'+t+'"]')}if(e=i.data("settingPropertyLink"))return(a=new c.Element(i)).bind(function(e,t){return n.savePropertyValue(e,t,i)}),n.elements[e]=[],void n.elements[e].push(a);(a=new c.Element(i)).bind(function(e,t){return n.saveValue(e,t,i)}),n.elements.push(a)}})},responsiveEvents:function(){var i=this;i.container.find(".jupiterx-responsive-switcher a").on("click",function(e){l(e.currentTarget).parent().toggleClass("open")}),l(document).on("mouseup",function(e){var t=i.container.find(".jupiterx-responsive-switcher a");t.is(e.target)||t.is(e.target)||0!=t.has(e.target).length||l(".jupiterx-responsive-switcher a").parent().removeClass("open")}),i.container.find(".jupiterx-responsive-switcher a").on("click",function(e){c.previewedDevice.set(l(e.currentTarget).data("device"))})},previewRedirectionEvents:function(){var i=this;l(document).on("change",i.selector+" .jupiterx-renew-preview",function(e){var t={};t[e.target.getAttribute("data-customize-setting-link")]=e.target.value,i.params.type===i.types.JUPITERX_EXCEPTIONS&&(t[i.id]=i.setting()),i.redirectOptionPreview(i.params.section,t)})},redirectOptionPreview:function(e,t){window.jupiterxCustomizer&&p.ajax.post("jupiterx_core_customizer_preview_redirect_url",{_ajax_nonce:window.jupiterxCustomizer.customizer_preview_redirect_url_nonce,section:e,options:JSON.stringify(t)}).done(function(e){e.redirectUrl&&(c.previewer.previewUrl.get()!==e.redirectUrl?c.previewer.previewUrl.set(e.redirectUrl):c.previewer.refresh())}).fail(function(){c.previewer.refresh()})},unitsEvents:function(){var e=this.container.find(".jupiterx-control-units-container");_.each(e,function(e){var r=l(e),a=r.find("input[type=hidden]"),s=r.find(".jupiterx-control-unit-selector");s.find(".selected-unit")[0].classList.contains("disabled")||(s.children().length<2&&s.addClass("jupiterx-control-unit-one"),s.on("click","li",function(e){if(!e.target.classList.contains("selected-unit")){s.find(".selected-unit").removeClass("selected-unit"),l(e.target).addClass("selected-unit");var t=e.target.innerText.toLowerCase();a.val(t).trigger("change");var i=r.parents(".jupiterx-control").find(s.data("inputs")),n=r.parents(".jupiterx-control").find(".jupiterx-input-control-input-range"),o=i.prop("max");"px"===t?i.attr("step",1):i.attr("step",.1),"%"===t?n.prop("max",100):n.prop("max",o),i.trigger("stepper.destroy",[t]),i.stepper({decimals:1,min:0,max:1e3})}}))})},unitInputValidate:function(){var e=this.container.find(".jupiterx-input-control:not(.jupiterx-text-control)");_.each(e,function(e){var t=l(e),i=t.find("input[type=text]"),n=t.find(".jupiterx-control-units-container").find(".selected-unit"),o=n.text();i.on("keyup focus blur",function(){var e=i.val();!isNaN(parseFloat(e))&&isFinite(e)||_.isEmpty(e)?"-"===n.text()&&n.text(o):n.text("-")})})},stepizeInputs:function(){var e=[];e.push(this.container.find("input.jupiterx-input-control-input")),e.push(this.container.filter(".customize-control-jupiterx-box-model").find("input.jupiterx-box-model-control-input")),_.each(e,function(e){e.stepper({decimals:1,min:0,max:1e3})})},saveValue:function(e,t,i){var n,o=this,r=void 0,a=void 0;if(e!==t){if(_.isUndefined(o.filterData)||(e=o.filterData(e)),r=e,n=i.data("settingViewportLink"))return a=o.setting.get(),(r=_.extend({},a))[n]=e,void o.setting.set(r);o.setting.set(r)}},savePropertyValue:function(e,t,i){var n,o,r,a=this,s=void 0;if(e!==t){if(_.isUndefined(a.filterData)||(e=a.filterData(e)),n=i.data("settingViewportLink"),o=i.data("settingPropertyLink"),r=a.setting.get(),s=_.extend({},r),n)return s[n]=_.extend({},r[n]),s[n][o]=e,void a.setting.set(s);s[o]=e,a.setting.set(s)}},actuallyReady:function(){}}),i.TemplateControl=i.Control.extend({addControl:function(e,t){var i,n=void 0,o=void 0,r=void 0,a=void 0;if(i="customize-control-"+e.type+"-content",document.getElementById("tmpl-"+i))return t=t||this.container.find(".jupiterx-group-controls"),(e=_.defaults(e,{column:12,cssClass:""})).link='data-customize-setting-link="'+e.id+'" '+(e.link?e.link:""),_.isObject(e.inputAttrs)&&(e.inputAttrs=_.map(e.inputAttrs,function(e,t){return t+'="'+e+'"'}).join(" ")),_.isObject(e.controlAttrs)&&(e.controlAttrs=_.map(e.controlAttrs,function(e,t){return t+'="'+e+'"'}).join(" ")),o=_.compact(["jupiterx-col-"+e.column,"customize-control customize-control-"+e.type,e.cssClass,e.property?this.params.type+"-control-"+e.property.replace(/_/g,"-"):"",e.responsive?"customize-control-responsive":""]),r=l("<li></li>",{class:o.join(" ")}),n=p.template(i),r.append(n(e)),t.append(r),this.linkElements(e,r),(a=x[e.type])&&a.ready&&a.ready.call({container:r,params:e}),r},linkElements:function(n,e){if(!_.isEmpty(n)&&!_.isEmpty(e)){var o,r=this,t=void 0,a={},s=void 0;t=e.find("[data-customize-setting-link], [data-setting-property-link]"),o=n.property,r.elements[o]=[],t.each(function(){var i=l(this),e=void 0;if(!i.data("customizeSettingLinked")){if(i.data("customizeSettingLinked",!0),i.is(":radio")){if(e=i.prop("name"),a[e])return;a[e]=!0,i=t.filter('[name="'+e+'"]')}s=new c.Element(i),r.elements[o].push(s),s.bind(function(e,t){return r.saveValue(e,t,o,i,n)})}})}},saveValue:function(e,t,i,n,o){var r,a=x[o.type],s=i,c=this.params.responsive,l=void 0,p=void 0;a&&a.filterData&&(e=a.filterData.call({params:o},e)),(r=n.data("settingPropertyLink"))&&(s=s+"."+r),l=n.data("settingViewportLink"),(l=c&&!l?"desktop":l)&&(s=l+"."+s),p=function e(t,i,n){var o=t.split(".");if(n=_.extend({},n),1===o.length)return n[o[0]]=i,n;var r=o.shift();return n[r]=e(o.join("."),i,n[r]),n}(s,e,p=_.extend({},this.setting.get())),this.setting.set(p)}}),i.GroupControl=i.TemplateControl.extend({initialize:function(e,t){i.Control.prototype.initialize.call(this,e,t)},ready:function(){var t=this,e=t.params;_.each(e.fields,function(e){t.addControl(e)})}}),i.ColorControl=i.Control.extend(n("jupiterx-color")),i.ImageControl=i.Control.extend(n("jupiterx-image")),i.RadioImageControl=i.Control.extend(n("jupiterx-radio-image")),i.ChildPopupControl=i.Control.extend(o("jupiterx-child-popup")),i.PopupControl=i.Control.extend(o("jupiterx-popup")),i.MulticheckControl=i.Control.extend(n("jupiterx-multicheck")),i.ChooseControl=i.Control.extend(n("jupiterx-choose")),i.InputControl=i.Control.extend(n("jupiterx-input")),i.FontControl=i.Control.extend(n("jupiterx-font")),i.Template=i.Control.extend(n("jupiterx-template")),i.SelectControl=i.Control.extend(n("jupiterx-select")),i.ExceptionsControl=i.TemplateControl.extend({initialize:function(e,t){this.controls={},i.Control.prototype.initialize.call(this,e,t)},ready:function(){var i=this,n=i.params,e=i.setting.get();_.each(e,function(e,t){n.fields[t]&&i.addException({id:t,text:n.fields[t].label,value:e})})},actuallyReady:function(){var n,o,r=this,t=(_.keys(r.params.fields),r.params.fields),e=r.container,i=e.find(".jupiterx-exceptions-control-add"),a=i.find(".jupiterx-select-control-field"),s=void 0;n=function(e){a.find("option[value="+e+"]").remove(),s()},o=function(e){t[e]&&(a.append(new Option(t[e].label,e,!1,!1)),s())},s=function(){var e=a.find("option");i.toggle(0<e.length)},_.each(_.keys(r.setting.get()),function(e){n(e)}),a.select2({minimumResultsForSearch:-1,placeholder:"Add New Exception",allowClear:!0,containerCssClass:"jupiterx-select2-container",dropdownCssClass:"jupiterx-select2-dropdown",width:"100%"}).on("select2:select",function(e){e.preventDefault();var t=e.params.data,i=r.setting.get();t&&t.id&&!i[t.id]&&(r.exceptionInitialData(t),r.addException(t),n(t.id)),a.val("").change()}),i.find(".jupiterx-button").click(function(e){e.preventDefault(),a.select2("open")}),e.on("click",".jupiterx-exceptions-control-remove",function(e){if(e.preventDefault(),confirm("Are you sure you want to remove this exception?")){var t=l(e.currentTarget),i=t.data("id"),n=r.setting.get();i&&n[i]&&(r.removeException(i),t.closest(".jupiterx-exceptions-control-group").remove(),o(i)),a.val("").change()}}),a.val("").change(),r.setting.bind("change",function(e,t){if(e=e||{},t=t||{},Object.keys(e).length!==Object.keys(t).length){var i={};i[r.id]=JSON.stringify(Object.keys(e)),r.redirectOptionPreview(r.params.section,i)}})},addException:function(i){var n=this,e=n.params,t=n.container.find(".jupiterx-exceptions-control-items"),o=p.template("customize-jupiterx-exceptions-control-group"),r=l(o(i)),a=r.find(".jupiterx-group-controls");n.controls[i.id]={},_.each(e.fields[i.id].options,function(e,t){e.property=t,e.value=i.value?i.value[t]:e.default,e.id=n.id+"_"+i.id+"_"+t,e.link='data-setting-property-link="'+i.id+"."+t+'"',n.controls[i.id][t]=n.addControl(e,a)}),"jupiterx_title_bar_exceptions"===n.id&&(n.titleBarEvents(i.id),n.titleBarToggleFields(i.id)),t.append(r)},exceptionInitialData:function(e){var t=this.params,i=e.id,n=void 0;(n=_.extend({},this.setting.get()))[i]={},_.each(t.fields[i].options,function(e,t){n[i][t]=e.default}),this.setting.set(n)},removeException:function(e){var t=void 0;delete(t=_.extend({},this.setting.get()))[e],this.setting.set(t)},titleBarEvents:function(e){var t=this,i=t.controls;i[e]&&i[e].type&&i[e].type.find("input[type=radio]").on("change",function(){t.titleBarToggleFields(e)})},titleBarToggleFields:function(e){var t=this.setting.get();if(t[e]){var i=this.controls[e],n="_custom"===t[e].type,o=function(e,t){i[e]&&i[e].toggleClass("hidden",t)};o("full_width",n),o("elements",n),o("title_tag",n),o("pro_box",!n),o("template",!n)}},saveValue:function(e,t,i,n,o){var r,a=this,s=x[o.type];s&&s.filterData&&(e=s.filterData.call({params:o},e));if(r=function e(t,i,n){var o=t.split(".");if(n=_.extend({},n),1===o.length)return n[o[0]]=i,n;var r=o.shift();return n[r]=e(o.join("."),i,n[r]),n}(n.data("settingPropertyLink"),e,a.setting.get()),a.setting.set(r),o.type!==a.types.JUPITERX_SELECT){var c={};c[o.id]=e,c[a.id]=a.setting(),a.redirectOptionPreview(a.params.section,c)}}}),i.BackgroundGroupControl=i.GroupControl.extend({actuallyReady:function(){var t,e=this,i=e.setting.get(),n=e.container.find(".for-classic"),o=e.container.find(".for-gradient"),r=e.container.find(".for-video"),a=_.isUndefined(i.type)?"classic":i.type;e.params.responsive&&(a=_.isUndefined(i.desktop)||_.isUndefined(i.desktop.type)?"classic":i.desktop.type),t=function(e){e&&(n.toggleClass("hidden","classic"!==e),o.toggleClass("hidden","gradient"!==e),r.toggleClass("hidden","video"!==e))},_.each(e.elements.type,function(e){e.bind(t)}),t(a)}}),l.extend(c.sectionConstructor,{"kirki-popup":i.PopupSection,"kirki-pane":i.PaneSection,"kirki-jupiterx-link":i.LinkSection,"kirki-container":i.ContainerSection}),l.extend(c.controlConstructor,{"jupiterx-text":c.controlConstructor,"jupiterx-input":i.InputControl,"jupiterx-textarea":i.Control,"jupiterx-select":i.SelectControl,"jupiterx-toggle":i.Control,"jupiterx-choose":i.ChooseControl,"jupiterx-divider":i.Control,"jupiterx-label":i.Control,"jupiterx-position":i.Control,"jupiterx-radio-image":i.RadioImageControl,"jupiterx-multicheck":i.MulticheckControl,"jupiterx-color":i.ColorControl,"jupiterx-image":i.ImageControl,"jupiterx-child-popup":i.ChildPopupControl,"jupiterx-popup":i.PopupControl,"jupiterx-box-model":i.Control,"jupiterx-font":i.FontControl,"jupiterx-exceptions":i.ExceptionsControl,"jupiterx-template":i.Template,"jupiterx-pro-box":i.Control}),l.extend(c.controlConstructor,{"jupiterx-box-shadow":i.GroupControl,"jupiterx-typography":i.GroupControl,"jupiterx-border":i.GroupControl,"jupiterx-background":i.BackgroundGroupControl}),c.bind("ready",function(){c.panel("woocommerce")&&c.panel("woocommerce").priority(285),c.section("custom_css").priority(1e3)});var j=l("#customize-controls"),C=p.template("customize-jupiterx-popup-content");j.append(C()),l(".jupiterx-popup").draggable({containment:"body",handle:".jupiterx-popup-header, .jupiterx-child-popup-header"})}(jQuery,wp,jupiterx);