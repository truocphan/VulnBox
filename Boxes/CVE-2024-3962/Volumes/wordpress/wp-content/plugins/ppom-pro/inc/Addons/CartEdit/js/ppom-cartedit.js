"use strict";
jQuery(function($) {

    $("body").on('click', '.ppom-popup-edit, .ppom-cartedit-backtoview', function(e) {
        e.preventDefault();

        const modal_body = $(this).closest('.ppom-modal-body');
        modal_body.find('.ppom-cartedit-items-editor, .ppom-cartedit-items-view').slideToggle();
    });

    $("body").on('click', '.ppom-cart-link', function(e) {
        e.preventDefault();

        // removing the galleries for few themes
        $(".woocommerce .product-gallery").remove();

        const cartkey = $(this).data('cartkey');
        const modal = $(this).data('ppom_modal-target');

        $("[data-ppom_modal-id='" + modal + "']").find('input[name="ppom_cart_key"]').val(cartkey);

        $("[data-ppom_modal-id='" + modal + "']").find('.ppom-input-fixedprice').find('select').trigger('change');

        ppom_update_option_prices();

    });
});
