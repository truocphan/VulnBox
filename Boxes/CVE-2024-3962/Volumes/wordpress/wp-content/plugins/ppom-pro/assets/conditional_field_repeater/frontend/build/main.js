!function(){"use strict";const a=(a,t,e)=>{e(ppom_input_vars.field_meta.map((e=>{const n=ppom_input_vars.product_id;switch(a.find(`.ppom-field-wrapper.${e.data_name}`).attr("data-data_name",`${e.data_name}__clone_${t}`).removeClass(e.data_name).removeClass(`ppom-wrapper_outer-${e.data_name}`).addClass(`${e.data_name}__clone_${t}`).addClass(`ppom-wrapper_outer-${e.data_name}__clone_${t}`),e.type){case"checkbox":jQuery.each(e.options,(function(_,o){var d=`.${e.data_name}.ppom-option-${o.id}`,p=`${n}-${e.data_name}_${t}-${o.id}`,r=`ppom[fields][${e.data_name}__clone_${t}][]`;a.find(`${d}`).attr("id",p).attr("name",r).attr("data-data_name",`${e.data_name}__clone_${t}`).closest("label").attr("for",p)}));break;case"file":var _=`.ppom-input.${e.data_name}`,o=`selectfiles-${e.data_name}__clone_${t}`,d=`.ppom-input-${e.data_name}`,p=`ppom-file-container-${e.data_name}__clone_${t}`,r=`.filelist.${e.data_name}`,i=`filelist-${e.data_name}__clone_${t}`;a.find(`${_}`).attr("id",o),a.find(`${d}`).attr("id",p),a.find(`${r}`).attr("id",i).html("");break;case"selectqty":var m=`.ppom-input.${e.data_name}`,l=`${e.data_name}_${t}`,c=`ppom[fields][${e.data_name}__clone_${t}][option]`;a.find(`${m}`).attr("id",l).attr("name",c).attr("data-data_name",`${e.data_name}__clone_${t}`);var s=`.ppom-quantity.${e.data_name}`,f=`${e.data_name}_${t}-qty`,u=`ppom[fields][${e.data_name}__clone_${t}][qty]`;a.find(`${s}`).attr("id",f).attr("name",u).attr("data-data_name",`${e.data_name}__clone_${t}`);break;default:_=`.ppom-input.${e.data_name}`,o=`${e.data_name}_${t}`;var v=`ppom[fields][${e.data_name}__clone_${t}]`;a.find(`${_}`).attr("id",o).attr("name",v).siblings("label").attr("for",o).closest("label").attr("for",o),"color"===e.type&&cloned_fields.find('div[data-type="color"]').map(((a,t)=>{$(t).find(".iris-picker").remove()}))}return{...e,data_name:`${e.data_name}__clone_${t}`,org_data_name:e.data_name}})))},t=(a,t)=>{const e=a.find("label.form-control-label");for(const[a,n]of Object.entries(t))e.text(e.text().replace(`{${a}}`,n))};jQuery(document).ready((e=>{e(".ppom-wrapper .ppom-field-wrapper").each(((n,_)=>{const o=e(_),d=o.find(".ppom-input").data("cfr_origin");if(!d)return;const p=ppom_input_vars.ppom_inputs.find((a=>a.data_name===d));if(!p)return;const r=["quantities","qtypack"].includes(p.type);o.hide(),e(`input[data-data_name="${d}"]`).on("input",(n=>{const _=n.target.id,d=e(n.target);e(`.ppom-field-wrapper[data-clone_origin_group="${_}"]`).remove();const p=n.target.value;for(let e=1;e<=p;e++){const n=o.clone().show().appendTo(o.parent()),p=r?`${d.data("optionid")}${ppomCfr.CONST_MULTIPLE_ORIGIN_IDENTIFIER}${e}`:`${e}`;t(n,{repeatNumber:e,optionTitle:d.data("label")}),n.attr("data-clone_origin_group",_),a(n,p,(()=>{}))}}))}))}))}();