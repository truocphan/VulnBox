/*! DynamicMaxHeight 0.0.3 - Dynamic max height plugin with CSS animation | (c) 2016 Pedro RogÃ©rio | MIT License */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.DynamicMaxHeight=b()}(this,function(){"use strict";var a=function(b){return this&&this instanceof a?(b||(b={}),this.selector=document.querySelectorAll(b.selector),void this.run()):new a(b)};return a.prototype={run:function(){this.heightControl()},hasClass:function(a,b){return new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)},addClass:function(a,b){this.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},removeClass:function(a,b){this.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))},toggleClass:function(a,b){var c=" "+a.className.replace(/[\t\r\n]/g," ")+" ";if(this.hasClass(a,b)){for(;c.indexOf(" "+b+" ")>=0;)c=c.replace(" "+b+" "," ");a.className=c.replace(/^\s+|\s+$/g,"")}else a.className+=" "+b},createEls:function(a,b,c){var d,e=document.createElement(a);for(d in b)b.hasOwnProperty(d)&&(e[d]=b[d]);return c&&e.appendChild(document.createTextNode(c)),e},heightControl:function(){Array.prototype.forEach.call(this.selector,function(a){var b=a.getAttribute("data-maxheight"),c=a.getAttribute("data-button-more")||"Read more",d=a.getAttribute("data-button-less")||"Show less",e=a.firstElementChild.offsetHeight;a.setAttribute("data-itemheight",e),e>b&&(this.addClass(a,"height-active"),this.showMoreShowLess(a,e,b,c,d),a.firstElementChild.style.maxHeight=b+"px")}.bind(this))},showMoreShowLess:function(a,b,c,d,e){var f,g;g=this.hasClass(a,"height-active")?d:e,f=this.createEls("a",{className:"dynamic-show-more",href:"#",title:g},g),a.appendChild(f),a.addEventListener("click",function(f){f.preventDefault(),f.target&&"A"===f.target.nodeName&&"dynamic-show-more"===f.target.className&&(this.hasClass(a,"height-active")?(f.target.textContent=e,a.firstElementChild.style.maxHeight=b+"px"):(f.target.textContent=d,a.firstElementChild.style.maxHeight=c+"px"),this.toggleClass(a,"height-active"))}.bind(this),!1)}},a});
